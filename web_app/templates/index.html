{% extends "base.html" %} {% block content %}
<div class="container">
  <!-- Hero Section -->
  <div class="jumbotron bg-light p-5 rounded mb-4">
    <h1 class="display-4">Ласкаво просимо!</h1>
    <p class="lead">Найкращий вибір страйкбольного обладнання в Україні</p>
    <hr class="my-4" />
    <p>
      Автомати, пістолети, екіпірування, захист та аксесуари від провідних
      виробників
    </p>
    <a
      class="btn btn-primary btn-lg"
      href="{{ url_for('catalog') }}"
      role="button"
    >
      <i class="bi bi-grid"></i> Переглянути каталог
    </a>
  </div>

  <!-- Categories -->
  <h2 class="mb-4">Категорії товарів</h2>
  <div class="row mb-5">
    {% for category in categories %}
    <div class="col-md-3 mb-3">
      <div class="card h-100 text-center">
        <div class="card-body">
          <i class="bi bi-box-seam display-4 text-primary"></i>
          <h5 class="card-title mt-3">{{ category[1] }}</h5>
          <p class="card-text text-muted small">{{ category[2] or '' }}</p>
          <a
            href="{{ url_for('catalog', category=category[0]) }}"
            class="btn btn-outline-primary btn-sm"
          >
            Переглянути
          </a>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>

  <!-- Featured Products -->
  <h2 class="mb-4">
    <i class="bi bi-star-fill text-warning"></i> Популярні товари
  </h2>
  <div class="row">
    {% for product in featured_products %}
    <div class="col-md-3 mb-4">
      <div class="card h-100 product-card">
        {% if product[5] > 0 %}
        <div class="badge bg-danger position-absolute top-0 end-0 m-2">
          -{{ product[5] }}%
        </div>
        {% endif %}

        <img
          src="{{ product[6] or 'https://via.placeholder.com/300x200?text=No+Image' }}"
          class="card-img-top"
          alt="{{ product[1] }}"
          style="height: 200px; object-fit: cover"
        />

        <div class="card-body d-flex flex-column">
          <span class="badge bg-secondary mb-2">{{ product[7] }}</span>
          <h5 class="card-title">{{ product[1] }}</h5>
          <p class="text-muted small mb-2">
            {{ product[2] }} {{ product[3] or '' }}
          </p>

          <div class="mt-auto">
            {% if product[5] > 0 %}
            <p class="mb-1">
              <span class="text-muted text-decoration-line-through small"
                >{{ "%.2f"|format(product[4]) }} грн</span
              >
            </p>
            {% endif %}
            <p class="h5 text-primary mb-3">
              {{ "%.2f"|format(product[8]) }} грн
            </p>

            <a
              href="{{ url_for('product_detail', product_id=product[0]) }}"
              class="btn btn-primary w-100"
            >
              <i class="bi bi-eye"></i> Переглянути
            </a>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>

<style>
  .product-card {
    transition: transform 0.2s;
  }
  .product-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }
</style>
{% endblock %}
